{% extends 'base.html' %}

{% block content %} 

<div class="container">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 m-2 p-4">
        {% for item in imgList %}
            {% set item_name = item|replace('"',"")|safe %}
            {% set imgUrl = 'images/' + item_name + '.png' %}                    
            {% set imgUrl = imgUrl|replace(' ',"")|safe %}
            <div>
                <a data-modal-target="{{item}}" data-modal-toggle="{{item}}" style="cursor: pointer;">
                    <img src="{{ url_for('static', filename=imgUrl) | safe }}" alt="{{item}}">
                </a>
            </div>
            <div id="{{item}}" tabindex="-1" class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
                <div class="relative w-full max-w-4xl max-h-full">
                    <!-- Modal content -->
                    <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                        <!-- Modal header -->
                        <div class="flex items-center justify-between p-5 border-b rounded-t dark:border-gray-600">
                            <h3 class="text-xl font-medium text-gray-900 dark:text-white">
                                The {{item_name}}
                            </h3>
                            <button type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="{{item}}">
                                <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                                <span class="sr-only">Close modal</span> 
                            </button>
                        </div>
                        <!-- Modal body -->
                        <div class="p-6 space-y-6">
                                {% if 'Kitchen' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    As you step into the kitchen, a chilling breeze whispers through the empty chairs, causing the flickering candlelight to cast eerie shadows on the stained countertops. The faint sound of dripping water echoes, accompanied by an unshakable feeling of unseen eyes observing your every move.
                                </p>
                                {% include "game/kitchen.html" %}                               
                                {% endif %}
                                {% if 'LivingRoom' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    A cold silence fills the air as you enter the living room, the flickering fireplace providing meager warmth against the oppressive chill. The faded portraits on the walls seem to gaze at you with hollow eyes, while the creaking floorboards beneath your feet hint at a hidden presence lurking in the shadows.
                                </p>
                                {% include "game/LivingRoom.html" %}
                                {% endif %}
                                {% if 'DiningRoom' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    The dining room emanates an eerie stillness, as if frozen in time. The grand table is set for a long-forgotten feast, covered in a thin layer of dust and surrounded by cobweb-laden chairs. The soft whispers of forgotten conversations linger, and a solitary, flickering candle seems to flicker with spectral anticipation.
                                </p>
                                {% endif %}
                                {% if 'Courtyard' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    The courtyard exudes a haunting tranquility, with overgrown ivy creeping up the cracked stone walls and gnarled trees casting elongated shadows. The wind carries a mournful melody, and the dilapidated fountain drips with an otherworldly, greenish hue, as if harboring secrets of its own.
                                </p>
                                {% endif %}
                                {% if 'GamesRoom' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    As you enter the games room, a chilling sense of playful malevolence hangs in the air. The shelves of forgotten board games and broken toys create a macabre atmosphere, while a flickering antique pinball machine seems to come to life, its clinking sounds taking on an unnerving rhythm.
                                </p>
                                {% endif %}
                                {% if 'Garage' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    The dimly lit garage feels suffocating, filled with the musty scent of motor oil and decaying memories. Shadows dance on the worn concrete floor, revealing glimpses of forgotten tools and broken machinery. The echo of a distant engine rumbles through the stagnant air, evoking a sense of foreboding.
                                </p>
                                {% endif %}
                                {% if 'Study' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    The study exudes an air of intellectual decay, with shelves of weathered books and disheveled manuscripts, their pages yellowed and brittle. The flickering candle on the desk casts long, distorted shadows, while the sound of a phantom pen scratching against parchment fills your ears.
                                </p>
                                {% endif %}
                                {% if 'Bathroom' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    The bathroom feels like a distorted reflection, with cracked mirrors reflecting fractured images of the past. A chill runs down your spine as the dripping faucet echoes through the desolate space, while the half-opened medicine cabinet reveals its unsettling contents, hinting at a haunting history.
                                </p>
                                {% endif %}
                                {% if 'Bedroom' == item_name %}
                                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                                    Stepping into the bedroom, a heavy sense of unease settles upon you. The tattered curtains sway in an unseen breeze, and the oppressive darkness seems to seep into every corner. The old, creaking bed beckons with a spectral invitation, and the faint whispers of forgotten dreams echo through the unsettling silence.
                                </p>
                                {% endif %}
                        </div>
                        <!-- Modal footer -->
                        <div class="block text-center items-center p-6 space-x-2 border-t border-gray-200 rounded-b dark:border-gray-600">                            
                            <button data-modal-hide="{{item}}" type="button" class="text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">Go Back</button>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
{%- block javascript -%}
<script type="text/javascript">
    $(document).ready(function() {
        $('#quiz-form').submit(function(e) {
            e.preventDefault();
            form_data = $('#quiz-form').serialize();
            $.ajax({
                type: 'POST',
                url: '/kitchen',
                data: form_data,
                dataType: "json",
                encode: true,
            }).done(function (data) {
                var res = data.message;
                console.log(res);
                console.log(res === 1);
                if(res === 1){
                    $("#kt-q-form").addClass("hidden");
                    console.log("here");
                }
                console.log(data);
            });
        });
    });
</script>
{%- endblock -%}